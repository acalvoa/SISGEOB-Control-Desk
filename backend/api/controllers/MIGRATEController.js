/**
 * MIGRATEController
 *
 * @description :: Server-side logic for managing MIGRATES
 * @help        :: See http://sailsjs.org/#!/documentation/concepts/Controllers
 */

module.exports = {
	migrate: function(req,res){
		//CREAMOS ROLES BASICOS
		ROLES_DATA = [
			{ NOMBRE_ROL: 'Usuario', SUPERUSER: false },
			{ NOMBRE_ROL: 'Admin', SUPERUSER: true }
		];
		// CREAMOS UNA LISTA DE SERVICIOS
		SERVICIOS_DATA = [
			{NOMBRE: "SERVIU RM"},
			{NOMBRE: "SERVIU X REGION"},
			{NOMBRE: "MINISTERIO DE OBRAS PUBLICAS"}, //3
			{NOMBRE: "MOP XII REGION"}, //4
			{NOMBRE: "MUNICIPALIDAD DE SANTIAGO"}, //5
			{NOMBRE: "MUNICIPALIDAD DE PROVIDENCIA"}, //6
			{NOMBRE: "MUNICIPALIDAD DE MAIPU"},//7
			{NOMBRE: "MINVU RM"}, //8
			{NOMBRE: "SERVIU RM"}, //9
			{NOMBRE: "SERVIU VI REGION"}, //10
			{NOMBRE: "MUNICIPALIDAD DE TOME"} //11
		];
		// CREAMOS OBRAS DE PRUEBA
		OBRAS_DATA = [
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 3,	MONTO: 4000000000, FECHA_ENTREGA: '3/21/2017', AVANCE_FISICO: 60, AVANCE_FINANCIERO: 40, LAT: -33.4396849,LNG: -70.6508204}, //1
			{NOMBRE: "CONSTRUCCIÓN EDIFICO PRUEBA 1", SERVICIO: 1,	MONTO: 4000000000, FECHA_ENTREGA: '8/21/2017', AVANCE_FISICO: 30, AVANCE_FINANCIERO: 45, LAT: -33.4396849,LNG: -70.6508204}, //2
			{NOMBRE: "CONSTRUCCIÓN EDIFICO PRUEBA 2", SERVICIO: 1,	MONTO: 1000000000, FECHA_ENTREGA: '5/21/2017', AVANCE_FISICO: 20, AVANCE_FINANCIERO: 34, LAT: -33.4396849,LNG: -70.6508204}, //3
			{NOMBRE: "CONSTRUCCIÓN EDIFICO PRUEBA 3", SERVICIO: 4,	MONTO: 1000000000, FECHA_ENTREGA: '6/21/2017', AVANCE_FISICO: 10, AVANCE_FINANCIERO: 87, LAT: -33.4396849,LNG: -70.6508204}, //4
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 4,	MONTO: 2000000000, FECHA_ENTREGA: '05/6/2017', AVANCE_FISICO: 50, AVANCE_FINANCIERO: 56, LAT: -33.4396849,LNG: -70.6508204}, //5
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 5,	MONTO: 2000000000, FECHA_ENTREGA: '4/21/2017', AVANCE_FISICO: 65, AVANCE_FINANCIERO: 40, LAT: -33.4396849,LNG: -70.6508204}, //6
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 6,	MONTO: 3000000000, FECHA_ENTREGA: '8/21/2017', AVANCE_FISICO: 33, AVANCE_FINANCIERO: 45, LAT: -33.4396849,LNG: -70.6508204}, //7
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 6,	MONTO: 3000000000, FECHA_ENTREGA: '3/21/2017', AVANCE_FISICO: 12, AVANCE_FINANCIERO: 80, LAT: -33.4396849,LNG: -70.6508204}, //8 
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 6,	MONTO: 3000000000, FECHA_ENTREGA: '7/21/2017', AVANCE_FISICO: 40, AVANCE_FINANCIERO: 20, LAT: -33.4396849,LNG: -70.6508204}, //9
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 7,	MONTO: 6000000000, FECHA_ENTREGA: '9/21/2017', AVANCE_FISICO: 67, AVANCE_FINANCIERO: 40, LAT: -33.4396849,LNG: -70.6508204}, //10
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 8,	MONTO: 6000000000, FECHA_ENTREGA: '10/21/2017', AVANCE_FISICO: 90, AVANCE_FINANCIERO: 90, LAT: -33.4396849,LNG: -70.6508204}, //11
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 8,	MONTO: 6000000000, FECHA_ENTREGA: '5/21/2017', AVANCE_FISICO: 73, AVANCE_FINANCIERO: 60, LAT: -33.4396849,LNG: -70.6508204}, //12
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 10,	MONTO: 6000000000, FECHA_ENTREGA: '11/21/2017', AVANCE_FISICO: 13, AVANCE_FINANCIERO: 50, LAT: -33.4396849,LNG: -70.6508204},//13
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 11,	MONTO: 5000000000, FECHA_ENTREGA: '12/21/2017', AVANCE_FISICO: 5, AVANCE_FINANCIERO: 40, LAT: -33.4396849,LNG: -70.6508204}, //14
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 11,	MONTO: 5000000000, FECHA_ENTREGA: '5/21/2017', AVANCE_FISICO: 50, AVANCE_FINANCIERO: 20, LAT: -33.4396849,LNG: -70.6508204}, //15
			{NOMBRE: "CONSTRUCCIÓN EDIFICO BICENTENARIO", SERVICIO: 11,	MONTO: 5000000000, FECHA_ENTREGA: '6/21/2017', AVANCE_FISICO: 60, AVANCE_FINANCIERO: 30, LAT: -33.4396849,LNG: -70.6508204}, //16
		];
		// CREAMOS MENSAJES DE PRUEBA
		MENSAJES_DATA = [
			{MENSAJE:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore', SERVICIO: 3, OBRA: 1, READ:false, FISCALIZADOR: true},
			{MENSAJE:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore',SERVICIO: 6, OBRA: 7, READ:false, FISCALIZADOR: true },
			{MENSAJE:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore',SERVICIO: 4, OBRA: 5, READ:false, FISCALIZADOR: true },
			{MENSAJE:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore',SERVICIO: 1, OBRA: 2, READ:false, FISCALIZADOR: true },
			{MENSAJE:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore',SERVICIO: 11, OBRA: 13, READ:false, FISCALIZADOR: true },
			{MENSAJE:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore',SERVICIO: 11, OBRA: 14, READ:false, FISCALIZADOR: true },
			{MENSAJE:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore',SERVICIO: 7, OBRA: 10, READ:false, FISCALIZADOR: true },
		];
		//CREAMOS ALERTAS
		ALERTA_DATA = [
			{ALERTA:"Servicio excede presupuesto", SERVICIO:1},
			{ALERTA:"Servicio excede presupuesto", SERVICIO:3},
			{ALERTA:"Servicio efectua multa", SERVICIO:4},
			{ALERTA:"Servicio excede presupuesto", SERVICIO:6},
			{ALERTA:"Servicio excede presupuesto", SERVICIO:7},
			{ALERTA:"Obras atrasadas", SERVICIO:1},
		];
		// CREAMOS UN AREA ROOT 
		ROLES.create(ROLES_DATA).exec(function(){
			// CREAMOS UN SUPERUSER
			USERS.create({ NAME: 'Super', LASTNAME: 'User', PASSWORD: 'sisgeob', EMAIL: 'root@contraloria.cl', ROLE:2 }).exec(function(){});
			//CREAMOS LOS SERVICIOS
			SERVICIOS.create(SERVICIOS_DATA).exec(function(){
				//CREAMOS LAS OBRAS
				OBRAS.create(OBRAS_DATA).exec(function(){
					MENSAJES.create(MENSAJES_DATA).exec(function(){
						ALERTAS.create(ALERTA_DATA).exec(function(){
							res.ok();
						});
					});
				});
			});
		});
	}
};

